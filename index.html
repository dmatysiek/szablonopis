<!doctype html>
<html lang="pl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>QuickDesc</title>
  <link rel="manifest" href="manifest.webmanifest?v=26">
  <meta name="theme-color" content="#0b0b0c">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <link rel="apple-touch-icon" href="icon-192.png">

  <style>
    /* ====== Kolory i bazowe ustawienia ====== */
    :root{
      color-scheme: light dark;
      --bg: #0b0b0c;
      --card: #141416;
      --card-2: #111113;
      --border: rgba(255,255,255,.08);
      --border-strong: rgba(255,255,255,.14);
      --text: #e9e9ea;
      --text-dim: #b8b8bb;
      --accent: #21c0a5;        /* delikatna miƒôta jako akcent */
      --shadow: 0 12px 30px rgba(0,0,0,.35);
      --radius: 14px;
      --radius-sm: 10px;
    }

    * { box-sizing: border-box; }

    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: var(--bg);
      color: var(--text);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    .wrap{ max-width: 760px; margin: 0 auto; padding: 18px 16px 28px; }

    /* ====== Pasek tytu≈Çu (lekki, jak w natywnych apkach) ====== */
    .topbar{
      position: sticky; top: 0; z-index: 5;
      background: linear-gradient(180deg, #0b0b0c, rgba(11,11,12,.92));
      backdrop-filter: saturate(140%) blur(8px);
      border-bottom: 1px solid var(--border);
    }
    .topbar-inner{ max-width: 760px; margin: 0 auto; padding: 14px 16px; }
    .title{ font-size: 20px; font-weight: 600; letter-spacing:.2px; }

    /* ====== Karty ====== */
    .card{
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
    }
    .card-pad{ padding: 16px; }
    .card + .card{ margin-top: 18px; }

    /* ====== Tytu≈Çy sekcji ====== */
    .section-title{
      font-size: 14px; font-weight: 600; color: var(--text-dim);
      letter-spacing:.4px; text-transform: uppercase;
      padding: 10px 2px 6px; margin: 0 0 6px;
      border-bottom: 1px dashed var(--border);
    }

    /* ====== Form ====== */
    .form-grid{ display: grid; gap: 14px; }

    .field label{
      display:block;
      font-size: 13px;
      color: var(--text-dim);
      margin: 0 0 6px;
    }

    .control{
      width:100%;
      height: 46px;
      padding: 10px 12px;
      border-radius: var(--radius-sm);
      border: 1px solid var(--border);
      background: var(--card-2);
      color: var(--text);
      -webkit-text-fill-color: var(--text); /* iOS zamkniƒôty select */
      outline: none;
      transition: border-color .15s ease, box-shadow .15s ease, background .15s ease;
    }
    .control:focus{
      border-color: var(--border-strong);
      box-shadow: 0 0 0 3px rgba(33,192,165,.12);
      background: #151619;
    }
    select.control option{ color:var(--text); background: var(--card-2); }

    /* Checkbox w jednej linii */
    .checkbox-row{
      display:flex; align-items:center; gap:10px;
      padding: 8px 0 2px;
    }
    .checkbox-row input[type="checkbox"]{
      width: 18px; height: 18px; margin:0;
      accent-color: var(--accent);
    }

    /* Tekstowe pole ‚Äûuwagi‚Äù */
    #uwagiLabel{ margin-top: -2px; }
    #uwagiText.control{ height: 46px; }

    /* ====== PodglƒÖd ====== */
    pre{ white-space: pre-wrap; word-wrap: break-word; margin:0; font: inherit; line-height:1.45; letter-spacing:.1px; }

    /* ====== Przycisk kopiowania ====== */
    .btn{
      display:block; width:100%;
      border-radius: var(--radius);
      padding: 12px 14px;
      border: 1px solid var(--border);
      background: #1a1b1e;
      color: var(--text); font-weight: 600;
      cursor:pointer;
      transition: background .15s ease, transform .05s ease, border-color .15s ease;
    }
    .btn:hover{ background:#1d2024; border-color: var(--border-strong); }
    .btn:active{ transform: scale(.99); }

    /* Separator jak w natywnych apkach */
    .sep{ height: 1px; background: var(--border); margin: 18px 0; border-radius: 2px; }
  </style>
</head>
<body>

  <!-- Pasek tytu≈Çu -->
  <div class="topbar">
    <div class="topbar-inner">
      <div class="title">QuickDesc</div>
    </div>
  </div>

  <div class="wrap">

    <!-- Karta z formularzem -->
    <div class="card card-pad">
      <h2 class="section-title">Dane</h2>
      <div class="form-grid">

        <div class="field">
          <label>Stan</label>
          <select id="stan" class="control">
            <option value="Dobry">Dobry</option>
            <option value="Bardzo dobry" selected>Bardzo dobry</option>
            <option value="Nowy bez metki">Nowy bez metki</option>
            <option value="Nowy z metkƒÖ">Nowy z metkƒÖ</option>
            <option value="≈öwietny, jak nowy">≈öwietny, jak nowy</option>
          </select>
        </div>

        <div class="field">
          <label>Rozmiar</label>
          <select id="rozmiar" class="control">
            <option value="XS">XS</option>
            <option value="S" selected>S</option>
            <option value="M">M</option>
            <option value="L">L</option>
            <option value="XL">XL</option>
            <option value="Damski XS">Damski XS</option>
            <option value="Damski S">Damski S</option>
            <option value="Damski M">Damski M</option>
            <option value="Damski L">Damski L</option>
            <option value="Damski XL">Damski XL</option>
            <option value="Mƒôski XS">Mƒôski XS</option>
            <option value="Mƒôski S">Mƒôski S</option>
            <option value="Mƒôski M">Mƒôski M</option>
            <option value="Mƒôski L">Mƒôski L</option>
            <option value="Mƒôski XL">Mƒôski XL</option>
          </select>
        </div>

        <div class="field">
          <label>Kolor</label>
          <select id="kolor" class="control">
            <option value="Czarny" selected>Czarny</option>
            <option value="Bia≈Çy">Bia≈Çy</option>
            <option value="Szary">Szary</option>
            <option value="BrƒÖzowy">BrƒÖzowy</option>
            <option value="Niebieski">Niebieski</option>
            <option value="Granatowy">Granatowy</option>
            <option value="Zielony">Zielony</option>
            <option value="Burgundowy">Burgundowy</option>
            <option value="Fioletowy">Fioletowy</option>
            <option value="Czerwony">Czerwony</option>
            <option value="Be≈ºowy">Be≈ºowy</option>
            <option value="Kremowy">Kremowy</option>
            <option value="R√≥≈ºowy">R√≥≈ºowy</option>
            <option value="≈ª√≥≈Çty">≈ª√≥≈Çty</option>
          </select>
        </div>

        <label class="checkbox-row">
          <input type="checkbox" id="uwagiOn">
          Dodatkowa linijka?
        </label>

        <div class="field" id="uwagiLabel" style="display:none;">
          <label>Tre≈õƒá dodatkowej informacji‚Ä¶</label>
          <input id="uwagiText" class="control" type="text" placeholder="np. Bluza ma plamƒô na rƒôkawie">
        </div>

        <div class="sep"></div>

        <div class="field">
          <label>D≈Çugo≈õƒá ca≈Çkowita (cm)</label>
          <input id="dlugosc" class="control" type="number" inputmode="decimal" step="1" min="0" placeholder="np. 65" value="65" data-suffix="cm">
        </div>

        <div class="field">
          <label>Szeroko≈õƒá pod pachami (cm)</label>
          <input id="szerokosc" class="control" type="number" inputmode="decimal" step="1" min="0" placeholder="np. 56" value="56" data-suffix="cm">
        </div>

        <div class="field">
          <label>D≈Çugo≈õƒá od pachy do ko≈Ñca rƒôkawa (cm)</label>
          <input id="rekaw" class="control" type="number" inputmode="decimal" step="1" min="0" placeholder="np. 52" value="52" data-suffix="cm">
        </div>

      </div>
    </div>

    <!-- Karta z podglƒÖdem -->
    <div class="card card-pad">
<pre>
üåü Stan: <b><span id="v-stan"></span></b>
üëï Rozmiar: <b><span id="v-rozmiar"></span></b>
üé® Kolor: <b><span id="v-kolor"></span></b><span id="v-uwagi-wrap" style="display:none"><br>üëï <span id="v-uwagi"></span></span>

üìè Wymiary:
‚Ä¢ D≈Çugo≈õƒá ca≈Çkowita: <b><span id="v-dlugosc">65cm</span></b>
‚Ä¢ Szeroko≈õƒá pod pachami: <b><span id="v-szerokosc">56cm</span></b>
‚Ä¢ D≈Çugo≈õƒá od pachy do ko≈Ñca rƒôkawa: <b><span id="v-rekaw">52cm</span></b>

üì© Wiƒôcej informacji na priv üòä

#nike #bluza #kaptur #mƒôska #damska #man #woman #hoodie #crewneck #sweatshirt #vintage #unisex #swoosh #air #max #adidas #retro #zipped #oversize #y2k
</pre>
      <button id="copy" class="btn" style="margin-top:12px;">Kopiuj opis</button>
    </div>
  </div>

  <script>
    // KLUCZ w localStorage
    const LS_KEY = "szablonopis_v1";

    // Mapowanie p√≥l formularza -> miejsc w podglƒÖdzie
    const pairs = [
      ["stan", "v-stan"],
      ["rozmiar", "v-rozmiar"],
      ["kolor", "v-kolor"],
      ["dlugosc", "v-dlugosc"],
      ["szerokosc", "v-szerokosc"],
      ["rekaw", "v-rekaw"],
    ];

    // 1) Wczytaj zapisane warto≈õci (je≈õli sƒÖ)
    const saved = JSON.parse(localStorage.getItem(LS_KEY) || "{}");

    // --- Stan aplikacji ---
    const state = {};

    // --- Opcjonalna linijka ---
    const uwagiOn    = document.getElementById("uwagiOn");
    const uwagiText  = document.getElementById("uwagiText");
    const uwagiWrap  = document.getElementById("v-uwagi-wrap");
    const uwagiSpan  = document.getElementById("v-uwagi");
    const uwagiLabel = document.getElementById("uwagiLabel");

    if (uwagiOn && saved.uwagiOn) uwagiOn.checked = true;
    if (uwagiText && typeof saved.uwagiText === "string") uwagiText.value = saved.uwagiText;

    function renderUwagi() {
      if (!uwagiOn || !uwagiText || !uwagiLabel || !uwagiWrap || !uwagiSpan) return;
      const enabled = uwagiOn.checked;
      const txt = (uwagiText.value || "").trim();

      state.uwagiOn = enabled;
      state.uwagiText = uwagiText.value || "";

      uwagiLabel.style.display = enabled ? "block" : "none";

      if (enabled && txt) {
        uwagiSpan.textContent = txt;
        uwagiWrap.style.display = "inline";
      } else {
        uwagiSpan.textContent = "";
        uwagiWrap.style.display = "none";
      }
    }
    uwagiOn?.addEventListener("change", () => { renderUwagi(); scheduleSave(); });
    uwagiText?.addEventListener("input", () => { renderUwagi(); scheduleSave(); });
    renderUwagi();

    // 2) Inicjalizacja p√≥l
    for (const [inputId, viewId] of pairs) {
      const input = document.getElementById(inputId);
      const view  = document.getElementById(viewId);
      if (!input || !view) continue;

      if (saved[inputId] !== undefined) input.value = saved[inputId];

      const renderValue = () => {
        const raw = input.value?.toString().trim();
        const suffix = input.dataset.suffix || "";
        view.textContent = raw ? (suffix ? `${raw}${suffix}` : raw) : "";
        state[inputId] = input.value;
      };

      renderValue();

      input.addEventListener("input", () => {
        renderValue();
        scheduleSave();
      });
    }

    // 3) Zapisywanie (debounce)
    let saveTimer = null;
    function scheduleSave() {
      clearTimeout(saveTimer);
      saveTimer = setTimeout(() => {
        localStorage.setItem(LS_KEY, JSON.stringify(state));
      }, 150);
    }

    // 4) Kopiowanie
    document.getElementById("copy").addEventListener("click", async () => {
      const pre = document.querySelector(".card pre") || document.querySelector("pre");
      const text = pre ? pre.innerText : "";
      try {
        await navigator.clipboard.writeText(text);
        const btn = document.getElementById("copy");
        const old = btn.textContent;
        btn.textContent = "Skopiowano ‚úì";
        setTimeout(()=> btn.textContent = old, 1200);
      } catch {
        alert("Nie uda≈Ço siƒô skopiowaƒá. Zaznacz tekst rƒôcznie i u≈ºyj Ctrl/Cmd+C.");
      }
    });

    // 5) Zapis przy zamykaniu karty
    window.addEventListener("beforeunload", () => {
      localStorage.setItem(LS_KEY, JSON.stringify(state));
    });
  </script>

  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('./sw.js?v=26');
    }
  </script>
</body>
</html>
