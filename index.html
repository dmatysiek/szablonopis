<!doctype html>
<html lang="pl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Szablonopis</title>

  <!-- PWA -->
  <link rel="manifest" href="manifest.webmanifest?v=14">
  <meta name="theme-color" content="#0b0b0c">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <link rel="apple-touch-icon" href="icon-192.png">

  <style>
    /* Minimalny, schludny styl */
    :root { color-scheme: light dark; }
    body { margin: 0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; background: #0b0b0c; color: #e9e9ea; }
    .wrap { max-width: 720px; margin: 0 auto; padding: 24px; }
    h1 { font-size: 20px; margin: 0 0 16px; font-weight: 600; }
    .card { background: rgba(255,255,255,0.06); border: 1px solid rgba(255,255,255,0.08); border-radius: 16px; padding: 16px 18px; box-shadow: 0 8px 24px rgba(0,0,0,0.2); }
    pre { white-space: pre-wrap; word-wrap: break-word; margin: 0; font: inherit; }

    /* --- formularz: wÄ™Å¼szy i po prawej --- */
    .right-title { text-align: right; }
    .right-side { margin-left: auto; max-width: 360px; width: 100%; }

    /* Å‚adniejsze kontrolki */
    .card.right-side label { display:block; margin-bottom: 14px; text-align: right; }

    .card.right-side input,
    .card.right-side select {
      width: 100%;
      box-sizing: border-box;
      padding: 12px 10px;                 /* mniejszy odstÄ™p od prawej */
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,.18);
      background: rgba(255,255,255,.06);
      color: #e9e9ea;
      -webkit-text-fill-color:#e9e9ea;    /* iOS: biaÅ‚y tekst w zamkniÄ™tym select */
      outline: none;
      font-size: 16px;
      line-height: 1.2;
      height: 44px;
      text-align: right;
      appearance: none; -webkit-appearance: none; /* ujednolicenie */
    }

    .card.right-side input::placeholder { color: rgba(233,233,234,.55); text-align: right; }
    .card.right-side select { padding-right: 34px; }
    .card.right-side select option { color: #e9e9ea; } /* zamkniÄ™ty select */
    .card.right-side input:focus,
    .card.right-side select:focus {
      border-color: rgba(255,255,255,.35);
      box-shadow: 0 0 0 3px rgba(255,255,255,.12);
    }

    /* usuÅ„ strzaÅ‚ki z input number (Chrome/Edge/Safari) */
    input[type=number]::-webkit-outer-spin-button,
    input[type=number]::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
    input[type=number] { -moz-appearance: textfield; }

    /* maÅ‚y kwadracik z kolorem (UI-only) */
    .swatch{
      display:inline-block; width:14px; height:14px; margin-left:8px;
      border-radius:3px; border:1px solid rgba(255,255,255,.35); vertical-align:middle;
    }
  </style>
</head>
<body>

  <div class="wrap">
    <h1 class="right-title">UzupeÅ‚nij dane</h1>

    <!-- FORMULARZ: po prawej i wÄ™Å¼szy -->
    <div class="card right-side" style="margin-bottom:16px">
      <label>Stan<br>
        <select id="stan">
          <option value="Dobry">Dobry</option>
          <option value="Bardzo dobry" selected>Bardzo dobry</option>
          <option value="Nowy bez metki">Nowy bez metki</option>
          <option value="Nowy z metkÄ…">Nowy z metkÄ…</option>
          <option value="Åšwietny, jak nowy">Åšwietny, jak nowy</option>
        </select>
      </label>

      <label>Kolor<br>
        <select id="kolor">
          <option value="Czarny" selected>Czarny</option>
          <option value="BiaÅ‚y">BiaÅ‚y</option>
          <option value="Szary">Szary</option>
          <option value="BrÄ…zowy">BrÄ…zowy</option>
          <option value="Niebieski">Niebieski</option>
          <option value="Granatowy">Granatowy</option>
          <option value="Zielony">Zielony</option>
          <option value="Burgundowy">Burgundowy</option>
          <option value="Fioletowy">Fioletowy</option>
          <option value="Czerwony">Czerwony</option>
          <option value="BeÅ¼owy">BeÅ¼owy</option>
          <option value="Kremowy">Kremowy</option>
          <option value="RÃ³Å¼owy">RÃ³Å¼owy</option>
          <option value="Å»Ã³Å‚ty">Å»Ã³Å‚ty</option>
        </select>
        <span id="kolor-swatch" class="swatch" aria-hidden="true"></span>
      </label>

      <label>Rozmiar<br>
        <select id="rozmiar">
          <option value="XS">XS</option>
          <option value="S" selected>S</option>
          <option value="M">M</option>
          <option value="L">L</option>
          <option value="XL">XL</option>
          <option value="Damski XS">Damski XS</option>
          <option value="Damski S">Damski S</option>
          <option value="Damski M">Damski M</option>
          <option value="Damski L">Damski L</option>
          <option value="Damski XL">Damski XL</option>
          <option value="MÄ™ski XS">MÄ™ski XS</option>
          <option value="MÄ™ski S">MÄ™ski S</option>
          <option value="MÄ™ski M">MÄ™ski M</option>
          <option value="MÄ™ski L">MÄ™ski L</option>
          <option value="MÄ™ski XL">MÄ™ski XL</option>
        </select>
      </label>

      <label>DÅ‚ugoÅ›Ä‡ caÅ‚kowita (cm)<br>
        <input id="dlugosc" type="number" inputmode="decimal" step="1" min="0" placeholder="np. 65" value="65" data-suffix="cm">
      </label>

      <label>SzerokoÅ›Ä‡ pod pachami (cm)<br>
        <input id="szerokosc" type="number" inputmode="decimal" step="1" min="0" placeholder="np. 56" value="56" data-suffix="cm">
      </label>

      <label>DÅ‚ugoÅ›Ä‡ od pachy do koÅ„ca rÄ™kawa (cm)<br>
        <input id="rekaw" type="number" inputmode="decimal" step="1" min="0" placeholder="np. 52" value="52" data-suffix="cm">
      </label>
    </div>

    <!-- PODGLÄ„D: nagÅ‚Ã³wek teÅ¼ po prawej; sama treÅ›Ä‡ bez zmian -->
    <h1 class="right-title">PodglÄ…d opisu</h1>
    <div class="card">
<pre>
ğŸŒŸ Stan: <b><span id="v-stan"></span></b>
ğŸ‘• Rozmiar: <b><span id="v-rozmiar"></span></b>
ğŸ¨ Kolor: <b><span id="v-kolor"></span></b>

ğŸ“ Wymiary:
â€¢ DÅ‚ugoÅ›Ä‡ caÅ‚kowita: <b><span id="v-dlugosc">65cm</span></b>
â€¢ SzerokoÅ›Ä‡ pod pachami: <b><span id="v-szerokosc">56cm</span></b>
â€¢ DÅ‚ugoÅ›Ä‡ od pachy do koÅ„ca rÄ™kawa: <b><span id="v-rekaw">52cm</span></b>

ğŸ“© WiÄ™cej informacji na priv ğŸ˜Š


#Nike #bluza #kaptur #mÄ™ska #damska #man #woman #hoodie #crewneck #sweatshirt #vintage #unisex #swoosh #air #max #adidas #retro #zipped #oversize #y2k
</pre>
      <button id="copy" style="margin-top:12px; width:100%; padding:12px; border-radius:10px; border:1px solid rgba(255,255,255,.15); background:rgba(255,255,255,.08); color:inherit; font-weight:600; cursor:pointer">Kopiuj opis</button>
    </div>
  </div>

  <!-- SKRYPT -->
  <script>
    const LS_KEY = "szablonopis_v13";

    const pairs = [
      ["stan", "v-stan"],
      ["rozmiar", "v-rozmiar"],
      ["kolor", "v-kolor"],
      ["dlugosc", "v-dlugosc"],
      ["szerokosc", "v-szerokosc"],
      ["rekaw", "v-rekaw"],
    ];

    const COLOR_MAP = {
      "Czarny": "#111111","BiaÅ‚y":"#F5F5F5","Szary":"#8E8E93","BrÄ…zowy":"#8B5A2B",
      "Niebieski":"#1E90FF","Granatowy":"#001F3F","Zielony":"#2ECC40","Burgundowy":"#800020",
      "Fioletowy":"#7D3C98","Czerwony":"#E74C3C","BeÅ¼owy":"#DCC7A1","Kremowy":"#F3E5AB",
      "RÃ³Å¼owy":"#FF6FB5","Å»Ã³Å‚ty":"#F1C40F"
    };

    const saved = JSON.parse(localStorage.getItem(LS_KEY) || "{}");
    const state = {};
    let saveTimer = null;
    function scheduleSave() {
      clearTimeout(saveTimer);
      saveTimer = setTimeout(() => {
        localStorage.setItem(LS_KEY, JSON.stringify(state));
      }, 150);
    }

    const kolorSwatch = document.getElementById("kolor-swatch");

    for (const [inputId, viewId] of pairs) {
      const input = document.getElementById(inputId);
      const view  = document.getElementById(viewId);
      if (!input || !view) continue;

      if (saved[inputId] !== undefined) input.value = saved[inputId];

      const renderValue = () => {
        const raw = (input.value ?? "").toString().trim();
        const suffix = input.dataset.suffix || "";
        view.textContent = raw ? (suffix ? `${raw}${suffix}` : raw) : "";
        state[inputId] = input.value;
      };

      const updateSwatch = () => {
        if (inputId !== "kolor" || !kolorSwatch) return;
        const hex = COLOR_MAP[input.value] || "transparent";
        kolorSwatch.style.background = hex;
        const jasne = ["BiaÅ‚y","Kremowy","BeÅ¼owy","Å»Ã³Å‚ty"];
        kolorSwatch.style.borderColor = jasne.includes(input.value)
          ? "rgba(0,0,0,.35)" : "rgba(255,255,255,.35)";
      };

      renderValue(); updateSwatch();

      input.addEventListener("input", () => {
        renderValue(); updateSwatch(); scheduleSave();
      });
      input.addEventListener("focus", () => { if (input.select) input.select(); });
    }

    document.getElementById("copy")?.addEventListener("click", async () => {
      const pres = document.querySelectorAll(".card pre");
      const pre = pres[pres.length - 1] || document.querySelector("pre");
      const text = pre ? pre.innerText : "";
      try {
        await navigator.clipboard.writeText(text);
        const btn = document.getElementById("copy");
        if (btn) {
          const old = btn.textContent; btn.textContent = "Skopiowano âœ“";
          setTimeout(() => (btn.textContent = old), 1200);
        }
      } catch {
        alert("Nie udaÅ‚o siÄ™ skopiowaÄ‡. Zaznacz tekst rÄ™cznie i uÅ¼yj Ctrl/Cmd+C.");
      }
    });

    window.addEventListener("beforeunload", () => {
      localStorage.setItem(LS_KEY, JSON.stringify(state));
    });
  </script>

  <!-- SW (podbijaj ?v=â€¦ przy aktualizacji) -->
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('./sw.js?v=14');
    }
  </script>
</body>
</html>
